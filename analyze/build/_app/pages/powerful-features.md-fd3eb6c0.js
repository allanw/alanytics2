import{S as ct,i as pt,s as mt,u as g,y as c,b as k,v as E,w as h,z as p,o,f as C,g as u,I as a,l as O,t as D,k as Ve,G as _t,p as dt,a3 as vt,a as x,d as ee,m as te,n as oe,A as yt,C as Ae}from"../chunks/index-ad01e7bd.js";import{r as wt,p as rt}from"../chunks/stores-80bb3aed.js";import"../chunks/QueryViewer.svelte_svelte_type_style_lang-4685c49e.js";import{Q as ut,V as ge}from"../chunks/QueryViewer-9b3a0b48.js";import{C as $t}from"../chunks/Prismjs.svelte_svelte_type_style_lang-6b8b25e2.js";/* empty css                                                       */import"../chunks/index-d64e724b.js";import"../chunks/Prismjs-256948e9.js";import"../chunks/index-74f16121.js";function at(_,s,f){const t=_.slice();return t[5]=s[f],t}function ft(_){let s,f;return s=new ut({props:{pageQueries:_[0].evidencemeta.queries,queryID:"category_sales",queryResult:_[0].category_sales}}),{c(){x(s.$$.fragment)},l(t){ee(s.$$.fragment,t)},m(t,n){te(s,t,n),f=!0},p(t,n){const v={};n&1&&(v.pageQueries=t[0].evidencemeta.queries),n&1&&(v.queryResult=t[0].category_sales),s.$set(v)},i(t){f||(O(s.$$.fragment,t),f=!0)},o(t){D(s.$$.fragment,t),f=!1},d(t){oe(s,t)}}}function it(_){let s,f,t=_[5].category+"",n,v;return{c(){s=g("ul"),f=g("li"),n=c(t),v=c(":")},l(m){s=E(m,"UL",{});var y=h(s);f=E(y,"LI",{});var d=h(f);n=p(d,t),v=p(d,":"),d.forEach(o),y.forEach(o)},m(m,y){u(m,s,y),a(s,f),a(f,n),a(f,v)},p(m,y){y&2&&t!==(t=m[5].category+"")&&yt(n,t)},d(m){m&&o(s)}}}function nt(_){let s,f;return s=new ut({props:{pageQueries:_[0].evidencemeta.queries,queryID:"orders_per_day",queryResult:_[0].orders_per_day}}),{c(){x(s.$$.fragment)},l(t){ee(s.$$.fragment,t)},m(t,n){te(s,t,n),f=!0},p(t,n){const v={};n&1&&(v.pageQueries=t[0].evidencemeta.queries),n&1&&(v.queryResult=t[0].orders_per_day),s.$set(v)},i(t){f||(O(s.$$.fragment,t),f=!0)},o(t){D(s.$$.fragment,t),f=!1},d(t){oe(s,t)}}}function gt(_){let s,f,t,n,v,m,y,d;return t=new ge({props:{data:_[2],column:"date",row:"0"}}),m=new ge({props:{data:_[2],column:"sales_usd",row:"0"}}),{c(){s=g("p"),f=c(`Missed sales target
on `),x(t.$$.fragment),n=c(" \u{1F61E}:"),v=k(),x(m.$$.fragment),y=c(" / $3,000")},l(i){s=E(i,"P",{});var w=h(s);f=p(w,`Missed sales target
on `),ee(t.$$.fragment,w),n=p(w," \u{1F61E}:"),w.forEach(o),v=C(i),ee(m.$$.fragment,i),y=p(i," / $3,000")},m(i,w){u(i,s,w),a(s,f),te(t,s,null),a(s,n),u(i,v,w),te(m,i,w),u(i,y,w),d=!0},p(i,w){const r={};w&4&&(r.data=i[2]),t.$set(r);const $={};w&4&&($.data=i[2]),m.$set($)},i(i){d||(O(t.$$.fragment,i),O(m.$$.fragment,i),d=!0)},o(i){D(t.$$.fragment,i),D(m.$$.fragment,i),d=!1},d(i){i&&o(s),oe(t),i&&o(v),oe(m,i),i&&o(y)}}}function Et(_){let s,f,t,n,v,m,y,d,i,w;return t=new ge({props:{data:_[2],column:"date",row:"0"}}),m=new ge({props:{data:_[2],column:"sales_usd",row:"0"}}),{c(){s=g("p"),f=c(`Met sales target
on `),x(t.$$.fragment),n=c(":"),v=k(),x(m.$$.fragment),y=c(` / $3,000
`),d=g("p"),i=c("Hooray! \u{1F973}\u{1F973}\u{1F973}")},l(r){s=E(r,"P",{});var $=h(s);f=p($,`Met sales target
on `),ee(t.$$.fragment,$),n=p($,":"),$.forEach(o),v=C(r),ee(m.$$.fragment,r),y=p(r,` / $3,000
`),d=E(r,"P",{});var P=h(d);i=p(P,"Hooray! \u{1F973}\u{1F973}\u{1F973}"),P.forEach(o)},m(r,$){u(r,s,$),a(s,f),te(t,s,null),a(s,n),u(r,v,$),te(m,r,$),u(r,y,$),u(r,d,$),a(d,i),w=!0},p(r,$){const P={};$&4&&(P.data=r[2]),t.$set(P);const N={};$&4&&(N.data=r[2]),m.$set(N)},i(r){w||(O(t.$$.fragment,r),O(m.$$.fragment,r),w=!0)},o(r){D(t.$$.fragment,r),D(m.$$.fragment,r),w=!1},d(r){r&&o(s),oe(t),r&&o(v),oe(m,r),r&&o(y),r&&o(d)}}}function ht(_){let s,f,t,n,v,m,y,d,i,w,r,$,P,N,U,se,Ee,he,ue,V,be,ce,A,j,qe,le,ke,Ce,pe,G,re,Se,me,Y,Te,_e,z,H,Pe,ae,Oe,Fe,fe,Le,De,de,K,He,ve,F,L,X,R,Re,ie,Me,Ne,ne,Qe,je,ye,B,Ie,we,b=_[0].category_sales&&ft(_),J=_[1],S=[];for(let e=0;e<J.length;e+=1)S[e]=it(at(_,J,e));let q=_[0].orders_per_day&&nt(_);const Ge=[Et,gt],I=[];function Ye(e,l){return e[2][0].sales_usd>3e3?0:1}return F=Ye(_),L=I[F]=Ge[F](_),{c(){s=g("h1"),f=c("More Powerful Features \u26A1"),t=k(),n=g("p"),v=c("This page covers some of Evidence's more powerful features: Loops and Logic."),m=k(),y=g("h1"),d=c("Loops"),i=k(),b&&b.c(),w=k(),r=g("p"),$=c("You can use "),P=g("code"),N=c("{#each}"),U=c(" statements to loop through "),se=g("strong"),Ee=c("each row"),he=c(" of a query, and generate text and charts."),ue=k(),V=g("h2"),be=c("Sales by Category"),ce=k();for(let e=0;e<S.length;e+=1)S[e].c();A=k(),j=g("p"),qe=c("\u{1F449} Add the following after "),le=g("code"),ke=c("- {category_row.category}:"),Ce=c(" to show the sales per category:"),pe=k(),G=g("p"),re=g("code"),Se=c("<Value data={category_row} column=sales_usd0k/>"),me=k(),Y=g("h1"),Te=c("Logic"),_e=k(),q&&q.c(),z=k(),H=g("p"),Pe=c("Use "),ae=g("code"),Oe=c("{#if}"),Fe=c(" and "),fe=g("code"),Le=c("{:else}"),De=c(" statements to control what content is show to users based on custom logic."),de=k(),K=g("h2"),He=c("Sales vs Target"),ve=k(),L.c(),X=k(),R=g("p"),Re=c("\u{1F449} Replace occurrences of "),ie=g("code"),Me=c("0"),Ne=c(" with "),ne=g("code"),Qe=c("1"),je=c(" in the section above to see if the sales target was met on the second most recent day in the dataset."),ye=k(),B=g("p"),Ie=c("Loops and logic are often to powerful to combine - loop through data and only display data if certain conditions are met.")},l(e){s=E(e,"H1",{});var l=h(s);f=p(l,"More Powerful Features \u26A1"),l.forEach(o),t=C(e),n=E(e,"P",{});var M=h(n);v=p(M,"This page covers some of Evidence's more powerful features: Loops and Logic."),M.forEach(o),m=C(e),y=E(e,"H1",{});var T=h(y);d=p(T,"Loops"),T.forEach(o),i=C(e),b&&b.l(e),w=C(e),r=E(e,"P",{});var Q=h(r);$=p(Q,"You can use "),P=E(Q,"CODE",{});var ze=h(P);N=p(ze,"{#each}"),ze.forEach(o),U=p(Q," statements to loop through "),se=E(Q,"STRONG",{});var Ke=h(se);Ee=p(Ke,"each row"),Ke.forEach(o),he=p(Q," of a query, and generate text and charts."),Q.forEach(o),ue=C(e),V=E(e,"H2",{});var Xe=h(V);be=p(Xe,"Sales by Category"),Xe.forEach(o),ce=C(e);for(let Ue=0;Ue<S.length;Ue+=1)S[Ue].l(e);A=C(e),j=E(e,"P",{});var $e=h(j);qe=p($e,"\u{1F449} Add the following after "),le=E($e,"CODE",{});var Be=h(le);ke=p(Be,"- {category_row.category}:"),Be.forEach(o),Ce=p($e," to show the sales per category:"),$e.forEach(o),pe=C(e),G=E(e,"P",{});var Je=h(G);re=E(Je,"CODE",{});var We=h(re);Se=p(We,"<Value data={category_row} column=sales_usd0k/>"),We.forEach(o),Je.forEach(o),me=C(e),Y=E(e,"H1",{});var Ze=h(Y);Te=p(Ze,"Logic"),Ze.forEach(o),_e=C(e),q&&q.l(e),z=C(e),H=E(e,"P",{});var W=h(H);Pe=p(W,"Use "),ae=E(W,"CODE",{});var xe=h(ae);Oe=p(xe,"{#if}"),xe.forEach(o),Fe=p(W," and "),fe=E(W,"CODE",{});var et=h(fe);Le=p(et,"{:else}"),et.forEach(o),De=p(W," statements to control what content is show to users based on custom logic."),W.forEach(o),de=C(e),K=E(e,"H2",{});var tt=h(K);He=p(tt,"Sales vs Target"),tt.forEach(o),ve=C(e),L.l(e),X=C(e),R=E(e,"P",{});var Z=h(R);Re=p(Z,"\u{1F449} Replace occurrences of "),ie=E(Z,"CODE",{});var ot=h(ie);Me=p(ot,"0"),ot.forEach(o),Ne=p(Z," with "),ne=E(Z,"CODE",{});var st=h(ne);Qe=p(st,"1"),st.forEach(o),je=p(Z," in the section above to see if the sales target was met on the second most recent day in the dataset."),Z.forEach(o),ye=C(e),B=E(e,"P",{});var lt=h(B);Ie=p(lt,"Loops and logic are often to powerful to combine - loop through data and only display data if certain conditions are met."),lt.forEach(o)},m(e,l){u(e,s,l),a(s,f),u(e,t,l),u(e,n,l),a(n,v),u(e,m,l),u(e,y,l),a(y,d),u(e,i,l),b&&b.m(e,l),u(e,w,l),u(e,r,l),a(r,$),a(r,P),a(P,N),a(r,U),a(r,se),a(se,Ee),a(r,he),u(e,ue,l),u(e,V,l),a(V,be),u(e,ce,l);for(let M=0;M<S.length;M+=1)S[M].m(e,l);u(e,A,l),u(e,j,l),a(j,qe),a(j,le),a(le,ke),a(j,Ce),u(e,pe,l),u(e,G,l),a(G,re),a(re,Se),u(e,me,l),u(e,Y,l),a(Y,Te),u(e,_e,l),q&&q.m(e,l),u(e,z,l),u(e,H,l),a(H,Pe),a(H,ae),a(ae,Oe),a(H,Fe),a(H,fe),a(fe,Le),a(H,De),u(e,de,l),u(e,K,l),a(K,He),u(e,ve,l),I[F].m(e,l),u(e,X,l),u(e,R,l),a(R,Re),a(R,ie),a(ie,Me),a(R,Ne),a(R,ne),a(ne,Qe),a(R,je),u(e,ye,l),u(e,B,l),a(B,Ie),we=!0},p(e,[l]){if(e[0].category_sales?b?(b.p(e,l),l&1&&O(b,1)):(b=ft(e),b.c(),O(b,1),b.m(w.parentNode,w)):b&&(Ae(),D(b,1,1,()=>{b=null}),Ve()),l&2){J=e[1];let T;for(T=0;T<J.length;T+=1){const Q=at(e,J,T);S[T]?S[T].p(Q,l):(S[T]=it(Q),S[T].c(),S[T].m(A.parentNode,A))}for(;T<S.length;T+=1)S[T].d(1);S.length=J.length}e[0].orders_per_day?q?(q.p(e,l),l&1&&O(q,1)):(q=nt(e),q.c(),O(q,1),q.m(z.parentNode,z)):q&&(Ae(),D(q,1,1,()=>{q=null}),Ve());let M=F;F=Ye(e),F===M?I[F].p(e,l):(Ae(),D(I[M],1,1,()=>{I[M]=null}),Ve(),L=I[F],L?L.p(e,l):(L=I[F]=Ge[F](e),L.c()),O(L,1),L.m(X.parentNode,X))},i(e){we||(O(b),O(q),O(L),we=!0)},o(e){D(b),D(q),D(L),we=!1},d(e){e&&o(s),e&&o(t),e&&o(n),e&&o(m),e&&o(y),e&&o(i),b&&b.d(e),e&&o(w),e&&o(r),e&&o(ue),e&&o(V),e&&o(ce),_t(S,e),e&&o(A),e&&o(j),e&&o(pe),e&&o(G),e&&o(me),e&&o(Y),e&&o(_e),q&&q.d(e),e&&o(z),e&&o(H),e&&o(de),e&&o(K),e&&o(ve),I[F].d(e),e&&o(X),e&&o(R),e&&o(ye),e&&o(B)}}}async function Dt({fetch:_}){const s=await _("/api/72d2beaa3a707003f52f6a23067c7303.json"),{data:f}=await s.json(),t=await _("/api/customFormattingSettings.json"),{customFormattingSettings:n}=await t.json();return{props:{data:f,customFormattingSettings:n}}}function bt(_,s,f){let{data:t={}}=s,{customFormattingSettings:n}=s;wt.set("72d2beaa3a707003f52f6a23067c7303"),dt($t,{getCustomFormats:()=>n.customFormats||[]});const v=function(d){var w,r;let i=(w=d.evidencemeta)==null?void 0:w.queries;if(i)for(let $=0;$<i.length;$++){let P=d[i[$].id],N=(r=d.evidencemeta)==null?void 0:r.queries[$].columnTypes;for(let U=0;U<P.length;U++)N&&Object.defineProperty(P[U],"_evidenceColumnTypes",{enumerable:!1,value:N})}};vt(()=>{v(t)});let{category_sales:m,orders_per_day:y}=t;return _.$$set=d=>{"data"in d&&f(0,t=d.data),"customFormattingSettings"in d&&f(3,n=d.customFormattingSettings)},_.$$.update=()=>{_.$$.dirty&1&&(Object.keys(t).length>0?rt.set(!0):rt.set(!1)),_.$$.dirty&1&&f(1,{category_sales:m,orders_per_day:y}=t,m,(f(2,y),f(0,t)))},[t,m,y,n]}class Ht extends ct{constructor(s){super(),pt(this,s,bt,ht,mt,{data:0,customFormattingSettings:3})}}export{Ht as default,Dt as load};
